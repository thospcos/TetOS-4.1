<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Tet Loading</title>
<style>
    body {
        margin: 0;
        padding: 0;
        background: white;
        font-family: Arial, sans-serif;
        overflow: hidden;
    }

    #text {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 28px;
        color: black;
        opacity: 0;
        text-align: center;
        transition: opacity 1.5s linear;
    }

    #whiteScreen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: white;
        display: none; /* starts off */
    }
</style>
</head>
<body>

<audio id="bgm" src="machine_love.mp3.mp3" autoplay loop></audio>

<div id="text"></div>
<div id="whiteScreen"></div>

<script>
    const textBox = document.getElementById("text");
    const whiteScreen = document.getElementById("whiteScreen");
    const bgm = document.getElementById("bgm");

    // Force audio play on refresh
    document.addEventListener("DOMContentLoaded", () => {
        bgm.volume = 0.7;
        bgm.play().catch(() => {
            // If blocked, wait for a click
            document.body.addEventListener("click", () => bgm.play());
        });
    });

    function showText(t, duration = 2500) {
        return new Promise(resolve => {
            textBox.innerText = t;
            textBox.style.opacity = 1;

            setTimeout(() => {
                textBox.style.opacity = 0;
                setTimeout(resolve, 1500);
            }, duration);
        });
    }

    async function sequence() {
        await showText("initializing system...");
        await showText("loading data fragments...");
        await showText("establishing connection...");
        await showText("it is about the truth...");

        // POP WHITE SCREEN instantly (NO fade)
        whiteScreen.style.display = "block";

        // Show final text instantly without fading
        textBox.innerText = "TET IS WATCHING";
        textBox.style.opacity = 1;
        textBox.style.color = "black";
    }

    sequence();
</script>

</body>
</html>
